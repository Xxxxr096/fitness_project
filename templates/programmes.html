<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Programmes ‚Äì GRINDZONE</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-container">
        <div class="nav-left">
            <a href="/" class="nav-logo">
                <img src="{{ url_for('static', filename='img/griffure.png') }}" alt="Logo" class="logo-icon">
                GRINDZONE
            </a>
        </div>
        <div class="nav-right">
            <a href="/dashboard">Accueil</a>
            <a href="/contact">Contact</a>
            <a href="/programmes">Programmes</a>
            <a href="/logout">Se d√©connecter</a>
        </div>
    </div>
</nav>


<!-- SECTION PROGRAMMES -->
<section class="program-section">
    <h1 class="program-title">Demande de programme personnalis√©</h1>
    <p class="program-subtitle">Remplis ce formulaire pour recevoir un programme adapt√© √† ton objectif.</p>
    <div class="program-intro">
        <p>Chaque corps est unique. Obtiens un programme sur mesure en quelques clics.</p>
    </div>
    

    <form class="program-form" method="POST" action="/programmes">

        <div class="form-row">
            <input type="number" name="poids" placeholder="Poids (kg)" required>
            <input type="number" name="taille" placeholder="Taille (cm)" required>
            <input type="number" name="age" placeholder="√Çge" required>
        </div>
        

        <textarea name="objectif" placeholder="D√©cris ici tes objectifs : perte de poids, prise de masse, forme g√©n√©rale..." rows="5" required></textarea>

        <div class="radio-group">
            <input type="radio" id="entrainement" name="type" value="entrainement" required>
            <label for="entrainement" class="radio-option">Programme d'entra√Ænement</label>
        
            <input type="radio" id="nutrition" name="type" value="nutrition">
            <label for="nutrition" class="radio-option">Programme de nutrition</label>
        </div>
        

        <button type="submit" class="btn-contact">üì§ Envoyer ma demande</button>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flashes">
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
    </form>
</section>

<section class="mes-demandes">
    <h2>Mes demandes pr√©c√©dentes</h2>

    {% if demandes %}
    <div class="table-container">
        <table class="demande-table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Objectif</th>
                    <th>Type</th>
                    <th>Poids</th>
                    <th>Taille</th>
                    <th>√Çge</th>
                    <th>Fichier</th>
                </tr>
            </thead>
            <tbody>
                {% for demande in demandes %}
                <tr>
                    <td>{{ demande.date.strftime('%d/%m/%Y') }}</td>
                    <td>{{ demande.objectif }}</td>
                    <td>{{ demande.type }}</td>
                    <td>{{ demande.poids }} kg</td>
                    <td>{{ demande.taille }} cm</td>
                    <td>{{ demande.age }} ans</td>
                    <td>
                        {% if demande.fichier %}
                        <a href="{{ url_for('static', filename='uploads/' ~ demande.fichier) }}" class="download-link" download>üì•</a>
                        {% else %}
                        <span class="info-waiting">‚è≥</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
        <p>Aucune demande enregistr√©e pour le moment.</p>
    {% endif %}
</section>

<footer class="signature">
    <p>¬© 2025 <span class="highlight">GRINDZONE</span> ‚Äî Discipline. Force. R√©sultats.</p>
</footer>

</body>
</html>
